{"version":3,"sources":["modules/canvas/objects/base/object.coffee"],"names":[],"mappings":"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","file":"modules/canvas/objects/base/object.js","sourceRoot":"/source/","sourcesContent":["define (require) ->\n  Controller = require 'core/controller/controller'\n  Model = require './model'\n  View = require './view'\n  Utils = require 'core/util/utils'\n\n  class CanvasObject extends Controller\n    constructor: (config = {}) ->\n      config.viewClass ?= View\n      config.modelClass ?= Model\n      super config\n\n    render: (ctx, timeDelta) =>\n      @_view.render ctx, @_model, timeDelta\n\n    translate: (delta) =>\n      position =\n        x: @_model.get('position.x') + delta.x\n        y: @_model.get('position.y') + delta.y\n      @_model.set 'position', position\n\n    x: (x) =>\n      if x?\n        @_model.set 'position.x', x\n      else\n        @_model.get 'position.x'\n\n    y: (y) =>\n      if y?\n        @_model.set 'position.y', y\n      else\n        @_model.get 'position.y'\n\n    position: (position) =>\n      if position?\n        @_model.set 'position', position\n      else\n        @_model.get 'position'\n\n    rotate: (deltaRadians) =>\n      @_model.set 'rotation', Utils.posMod(@_model.get('rotation') + deltaRadians, Utils.TAU)\n\n    rotation: (radians) =>\n      if radians?\n        @_model.set 'rotation', radians\n      else\n        @_model.get 'rotation'\n\n    scale: (x, y) =>\n      if x?\n        y ?= x\n        @scaleX x\n        @scaleY y\n      else\n        @_model.get 'scale'\n\n    compoundScale: (x, y) =>\n      y ?= x\n      @scaleX @_model.get('scale.x') * x\n      @scaleY @_model.get('scale.y') * y\n\n    scaleX: (factor) =>\n      if factor?\n        @_model.set 'scale.x', factor\n      else\n        @_model.get 'scale.x'\n\n    scaleY: (factor) =>\n      if factor?\n        @_model.set 'scale.y', factor\n      else\n        @_model.get 'scale.y'\n\n    boundingBox: () =>\n      @_model.boundingBox()\n\n    select: () =>\n      @_model.set 'boundingbox.display', true\n\n    deselect: () =>\n      @_model.set 'boundingbox.display', false\n"]}