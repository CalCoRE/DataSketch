{"version":3,"sources":["modules/canvas/objects/path/model.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA;;;;EAAA,MAAA,CAAO,SAAC,OAAD;AACL,QAAA;IAAA,WAAA,GAAc,OAAA,CAAQ,qCAAR;IAEd,QAAA,GACE;MAAA,QAAA,EAAU,EAAV;MACA,SAAA,EAAW,KADX;;WAGI;;;MACS,mBAAC,IAAD;;;QACX,2CACE;UAAA,IAAA,EAAM,IAAN;UACA,QAAA,EAAU,QADV;SADF;MADW;;0BASb,SAAA,GAAW,SAAA;AACT,YAAA;QAAA,QAAA,GAAW,IAAC,CAAA,GAAD,CAAK,UAAL;QACX,IAAA,GAAO,IAAI,CAAC,GAAG,CAAC,KAAT,CAAe,IAAf;;AAAsB;eAAA,0CAAA;;yBAAA,CAAC,CAAC,IAAI,CAAC;AAAP;;YAAtB;QACP,KAAA,GAAQ,IAAI,CAAC,GAAG,CAAC,KAAT,CAAe,IAAf;;AAAsB;eAAA,0CAAA;;yBAAA,CAAC,CAAC,IAAI,CAAC;AAAP;;YAAtB;QACR,GAAA,GAAM,IAAI,CAAC,GAAG,CAAC,KAAT,CAAe,IAAf;;AAAsB;eAAA,0CAAA;;yBAAA,CAAC,CAAC,IAAI,CAAC;AAAP;;YAAtB;QACN,MAAA,GAAS,IAAI,CAAC,GAAG,CAAC,KAAT,CAAe,IAAf;;AAAsB;eAAA,0CAAA;;yBAAA,CAAC,CAAC,IAAI,CAAC;AAAP;;YAAtB;QACT,KAAA,GAAQ,KAAA,GAAQ;QAChB,MAAA,GAAS,MAAA,GAAS;QAClB,SAAA,GACE;UAAA,CAAA,EAAG,IAAA,GAAO,KAAA,GAAQ,CAAlB;UACA,CAAA,EAAG,GAAA,GAAM,MAAA,GAAS,CADlB;;AAEF,aAAA,0CAAA;;UACE,CAAC,CAAC,IAAI,CAAC,CAAP,GAAW,CAAC,CAAC,IAAI,CAAC,CAAP,GAAW,SAAS,CAAC;UAChC,CAAC,CAAC,IAAI,CAAC,CAAP,GAAW,CAAC,CAAC,IAAI,CAAC,CAAP,GAAW,SAAS,CAAC;AAFlC;QAGA,IAAC,CAAA,GAAD,CAAK,UAAL,EAAiB,SAAjB;eACA,IAAC,CAAA,GAAD,CAAK,UAAL,EAAiB,QAAjB;MAfS;;0BAiBX,WAAA,GAAa,SAAA;AACX,YAAA;QAAA,GAAA,GAAM,yCAAA;QACN,QAAA,GAAW,IAAC,CAAA,GAAD,CAAK,UAAL;QACX,IAAA,GAAO,IAAI,CAAC,GAAG,CAAC,KAAT,CAAe,IAAf;;AAAsB;eAAA,0CAAA;;yBAAA,CAAC,CAAC,IAAI,CAAC;AAAP;;YAAtB;QACP,KAAA,GAAQ,IAAI,CAAC,GAAG,CAAC,KAAT,CAAe,IAAf;;AAAsB;eAAA,0CAAA;;yBAAA,CAAC,CAAC,IAAI,CAAC;AAAP;;YAAtB;QACR,GAAA,GAAM,IAAI,CAAC,GAAG,CAAC,KAAT,CAAe,IAAf;;AAAsB;eAAA,0CAAA;;yBAAA,CAAC,CAAC,IAAI,CAAC;AAAP;;YAAtB;QACN,MAAA,GAAS,IAAI,CAAC,GAAG,CAAC,KAAT,CAAe,IAAf;;AAAsB;eAAA,0CAAA;;yBAAA,CAAC,CAAC,IAAI,CAAC;AAAP;;YAAtB;QACT,GAAG,CAAC,KAAJ,GAAY,KAAA,GAAQ;QACpB,GAAG,CAAC,MAAJ,GAAa,MAAA,GAAS;QACtB,GAAG,CAAC,MAAM,CAAC,CAAX,GAAe,CAAC,GAAG,CAAC,KAAL,GAAa;QAC5B,GAAG,CAAC,MAAM,CAAC,CAAX,GAAe,CAAC,GAAG,CAAC,MAAL,GAAc;eAC7B;MAXW;;;;OA3BS;EAPnB,CAAP;AAAA","file":"modules/canvas/objects/path/model.js","sourceRoot":"/source/","sourcesContent":["define (require) ->\n  VectorModel = require 'modules/canvas/objects/vector/model'\n\n  defaults =\n    pathData: []\n    autoclose: false\n\n  class PathModel extends VectorModel\n    constructor: (data) ->\n      super\n        data: data\n        defaults: defaults\n\n# `normalize()`\n#\n# Adjusts all point data so minimum values are zeroed out and the object's\n# position is adjusted accordingly.\n    normalize: () =>\n      pathData = @get('pathData')\n      left = Math.min.apply null, (d.data.x for d in pathData)\n      right = Math.max.apply null, (d.data.x for d in pathData)\n      top = Math.min.apply null, (d.data.y for d in pathData)\n      bottom = Math.max.apply null, (d.data.y for d in pathData)\n      width = right - left\n      height = bottom - top\n      reference =\n        x: left + width / 2\n        y: top + height / 2\n      for d in pathData\n        d.data.x = d.data.x - reference.x\n        d.data.y = d.data.y - reference.y\n      @set 'position', reference\n      @set 'pathData', pathData\n\n    boundingBox: () =>\n      box = super()\n      pathData = @get('pathData')\n      left = Math.min.apply null, (d.data.x for d in pathData)\n      right = Math.max.apply null, (d.data.x for d in pathData)\n      top = Math.min.apply null, (d.data.y for d in pathData)\n      bottom = Math.max.apply null, (d.data.y for d in pathData)\n      box.width = right - left\n      box.height = bottom - top\n      box.offset.x = -box.width / 2\n      box.offset.y = -box.height / 2\n      box"]}