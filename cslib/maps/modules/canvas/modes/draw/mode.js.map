{"version":3,"sources":["modules/canvas/modes/draw/mode.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA;;;;EAAA,MAAA,CAAO,SAAC,OAAD;AACL,QAAA;IAAA,eAAA,GAAkB,OAAA,CAAQ,uBAAR;IAClB,IAAA,GAAO,OAAA,CAAQ,oCAAR;IACP,EAAA,GAAK,OAAA,CAAQ,yBAAR;WAEC;;;MACS,wBAAA;;;;;;QACX,8CAAA;MADW;;+BAGb,QAAA,GAAU,SAAC,MAAD;eACR,IAAC,CAAA,OAAD,GAAW;MADH;;+BAGV,UAAA,GAAY,SAAC,MAAD;eACV,IAAC,CAAA,OAAD,GAAW;MADD;;+BAGZ,WAAA,GAAa,SAAC,KAAD;AACX,YAAA;QAAA,UAAA,GAAa,EAAE,CAAC,MAAH,CAAU,sBAAV,EAAkC,IAAI,CAAC,aAAvC;QACb,IAAC,CAAA,KAAD,GAAS,IAAI,CAAC,MAAL,CAAY,UAAZ;QACT,IAAC,CAAA,KAAK,CAAC,aAAP,CAAqB,QAArB,EAA+B,KAA/B;eACA,IAAC,CAAA,OAAO,CAAC,SAAT,CAAmB,IAAC,CAAA,KAApB;MAJW;;+BAMb,UAAA,GAAY,SAAC,KAAD;eACV,IAAC,CAAA,KAAK,CAAC,aAAP,CAAqB,QAArB,EAA+B,KAA/B;MADU;;+BAGZ,SAAA,GAAW,SAAA;QACT,IAAC,CAAA,KAAK,CAAC,SAAP,CAAA;eACA,IAAC,CAAA,KAAD,GAAS;MAFA;;;;OAnBgB;EALxB,CAAP;AAAA","file":"modules/canvas/modes/draw/mode.js","sourceRoot":"/source/","sourcesContent":["define (require) ->\n  EventDispatcher = require 'core/event/dispatcher'\n  Path = require 'modules/canvas/objects/path/object'\n  HM = require 'core/event/hook_manager'\n\n  class CanvasDrawMode extends EventDispatcher\n    constructor: () ->\n      super()\n\n    activate: (canvas) =>\n      @_canvas = canvas\n\n    deactivate: (canvas) =>\n      @_canvas = null\n\n    actionStart: (point) =>\n      pathConfig = HM.invoke \"Canvas.Draw.Settings\", Path.defaultConfig\n      @_path = Path.create(pathConfig)\n      @_path.appendCommand \"moveTo\", point\n      @_canvas.addObject @_path\n\n    actionMove: (point) =>\n      @_path.appendCommand \"lineTo\", point\n\n    actionEnd: () =>\n      @_path.normalize()\n      @_path = null\n"]}