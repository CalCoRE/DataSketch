{"version":3,"sources":["modules/datasketch/canvas/objects/object.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA;;;;EAAA,MAAA,CAAO,SAAC,OAAD;AACL,QAAA;IAAA,KAAA,GAAQ,OAAA,CAAQ,kBAAR;IAEF;;;MACS,kBAAC,QAAD;;;;;;;;;;;;;QACX,0CAAM,QAAN;QAEA,IAAC,CAAA,gBAAD,CAAkB,cAAlB,EAAkC,IAAC,CAAA,SAAnC;QACA,IAAC,CAAA,eAAD,CAAA;MAJW;;yBAMb,SAAA,GAAW,SAAC,GAAD;AACT,YAAA;QAAA,IAAG,GAAG,CAAC,IAAI,CAAC,IAAT,KAAiB,MAApB;UACE,IAAC,CAAA,eAAD,CAAA,EADF;;QAEA,IAAG,GAAG,CAAC,IAAI,CAAC,IAAT,KAAiB,UAApB;UACE,CAAA,GAAI,IAAC,CAAA,GAAD,CAAK,MAAL;UACJ,CAAC,CAAC,UAAF,GAAe,CAAC,GAAG,CAAC,IAAI,CAAC;UACzB,CAAC,CAAC,WAAF,GAAgB,CAAC,GAAG,CAAC,IAAI,CAAC;UAC1B,CAAC,CAAC,gBAAF,GAAqB,CAAC,GAAG,CAAC,IAAI,CAAC;iBAC/B,CAAC,CAAC,OAAF,GAAe,GAAG,CAAC,IAAI,CAAC,KAAZ,GAAuB,GAAvB,GAAgC,EAL9C;;MAHS;;yBAUX,eAAA,GAAiB,SAAA;QACf,IAAG,wBAAH;UACE,IAAC,CAAA,GAAD,CAAK,MAAL,CAAY,CAAC,EAAb,CAAgB,UAAhB,EAA4B,IAAC,CAAA,WAA7B;UACA,IAAC,CAAA,GAAD,CAAK,MAAL,CAAY,CAAC,EAAb,CAAgB,SAAhB,EAA2B,IAAC,CAAA,QAA5B;iBACA,IAAC,CAAA,GAAD,CAAK,MAAL,CAAY,CAAC,EAAb,CAAgB,QAAhB,EAA0B,IAAC,CAAA,OAA3B,EAHF;;MADe;;yBAMjB,WAAA,GAAa,SAAC,GAAD;eACX,IAAC,CAAA,GAAD,CAAK,UAAL,EAAiB,IAAC,CAAA,GAAD,CAAK,YAAL,CAAjB;MADW;;yBAGb,QAAA,GAAU,SAAC,GAAD;QACR,IAAC,CAAA,GAAD,CAAK,SAAL,EAAgB,IAAC,CAAA,GAAD,CAAK,aAAL,CAAhB;eACA,IAAC,CAAA,GAAD,CAAK,SAAL,EAAgB,IAAC,CAAA,GAAD,CAAK,aAAL,CAAhB;MAFQ;;yBAIV,OAAA,GAAS,SAAC,GAAD;QACP,IAAC,CAAA,GAAD,CAAK,YAAL,EAAmB,IAAC,CAAA,GAAD,CAAK,MAAL,CAAY,CAAC,OAAb,CAAA,CAAnB;eACA,IAAC,CAAA,GAAD,CAAK,YAAL,EAAmB,IAAC,CAAA,GAAD,CAAK,MAAL,CAAY,CAAC,MAAb,CAAA,CAAnB;MAFO;;yBAIT,QAAA,GAAU,SAAA;eACR,IAAC,CAAA,GAAD,CAAK,MAAL,CAAY,CAAC,QAAb,CAAA;MADQ;;yBAGV,SAAA,GAAW,SAAA;eACT,IAAC,CAAA,GAAD,CAAK,MAAL,CAAY,CAAC,SAAb,CAAA;MADS;;yBAGX,OAAA,GAAS,SAAA;eACP,IAAC,CAAA,GAAD,CAAK,UAAL,EAAiB,IAAjB;MADO;;yBAGT,MAAA,GAAQ,SAAA;eACN,IAAC,CAAA,GAAD,CAAK,UAAL,EAAiB,KAAjB;MADM;;yBAGR,cAAA,GAAgB,SAAC,KAAD;eACd,IAAC,CAAA,GAAD,CAAK,MAAL,CAAY,CAAC,cAAb,CAA4B,KAA5B;MADc;;yBAGhB,cAAA,GAAgB,SAAC,KAAD;eACd,IAAC,CAAA,GAAD,CAAK,MAAL,CAAY,CAAC,SAAb,CAAuB,KAAvB;MADc;;yBAGhB,KAAA,GAAO,SAAA,GAAA;;;;OApDc;IAuDvB,QAAQ,CAAC,MAAT,GAAkB;WAClB;EA3DK,CAAP;AAAA","file":"modules/datasketch/canvas/objects/object.js","sourceRoot":"/source/","sourcesContent":["define (require) ->\n  Model = require 'core/model/model'\n\n  class DSObject extends Model\n    constructor: (settings) ->\n      super settings\n\n      @addEventListener 'Model.Change', @_onChange\n      @_bindViewEvents()\n\n    _onChange: (evt) =>\n      if evt.data.path == \"view\"\n        @_bindViewEvents()\n      if evt.data.path == \"disabled\"\n        v = @get('view')\n        v.selectable = !evt.data.value\n        v.hasControls = !evt.data.value\n        v.hasRotatingPoint = !evt.data.value\n        v.opacity = if evt.data.value then 0.5 else 1\n\n    _bindViewEvents: () =>\n      if @get('view')?\n        @get('view').on(\"rotating\", @_onRotation)\n        @get('view').on(\"scaling\", @_onScale)\n        @get('view').on(\"moving\", @_onMove)\n\n    _onRotation: (evt) =>\n      @set 'rotation', @get('view.angle')\n\n    _onScale: (evt) =>\n      @set 'scale.x', @get('view.scaleX')\n      @set 'scale.y', @get('view.scaleY')\n\n    _onMove: (evt) =>\n      @set 'position.x', @get('view').getLeft()\n      @set 'position.y', @get('view').getTop()\n\n    getWidth: () =>\n      @get('view').getWidth()\n\n    getHeight: () =>\n      @get('view').getHeight()\n\n    disable: () =>\n      @set 'disabled', true\n\n    enable: () =>\n      @set 'disabled', false\n    \n    setStrokeWidth: (width) =>\n      @get('view').setStrokeWidth width\n\n    setStrokeColor: (color) =>\n      @get('view').setStroke color\n\n    clone: () =>\n      \n\n  DSObject._count = 0\n  DSObject"]}