{"version":3,"sources":["modules/datasketch/animation/property_map.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA;;EAAA,MAAA,CAAO,SAAC,OAAD;AACL,QAAA;WAAM;MACS,qBAAC,QAAD;;QACX,IAAC,CAAA,cAAD,GAAkB,QAAQ,CAAC;QAC3B,IAAC,CAAA,YAAD,GAAgB,QAAQ,CAAC;QACzB,IAAC,CAAA,WAAD,GAAe,QAAQ,CAAC;MAHb;;4BAKb,YAAA,GAAc,SAAC,MAAD,EAAS,QAAT,EAAmB,SAAnB,EAA8B,SAA9B;AACZ,YAAA;QAAA,OAAA,GAAU,IAAI,CAAC,KAAL,CAAW,CAAC,QAAA,GAAW,IAAZ,CAAA,GAAoB,MAAM,CAAC,gBAAgB,CAAC,UAAvD;QACV,OAAA,GAAU,OAAA,GAAU;QACpB,IAAG,SAAS,CAAC,GAAV,CAAc,MAAd,CAAqB,CAAC,MAAtB,GAA+B,OAAlC;UACE,GAAA,GAAM,CAAC,QAAA,GAAW,IAAZ,CAAA,GAAoB,MAAM,CAAC,gBAAgB,CAAC,UAA5C,GAAyD;UAC/D,OAAA,GAAU,SAAS,CAAC,GAAV,CAAc,MAAd,CAAsB,CAAA,OAAA;UAChC,OAAA,GAAU,SAAS,CAAC,GAAV,CAAc,MAAd,CAAsB,CAAA,OAAA;UAChC,YAAA,GAAe,OAAO,CAAC,QAAR,CAAiB,IAAC,CAAA,YAAY,CAAC,KAAd,CAAA,CAAjB;UACf,YAAA,GAAe,OAAO,CAAC,QAAR,CAAiB,IAAC,CAAA,YAAY,CAAC,KAAd,CAAA,CAAjB;UACf,GAAA,GAAM,SAAS,CAAC,GAAV,CAAc,MAAd,CAAsB,CAAA,OAAA,CAAQ,CAAC,QAA/B,CAAwC,IAAC,CAAA,YAAY,CAAC,KAAd,CAAA,CAAxC,CAAA,GAAiE,CAAC,SAAS,CAAC,GAAV,CAAc,MAAd,CAAsB,CAAA,OAAA,CAAQ,CAAC,QAA/B,CAAwC,IAAC,CAAA,YAAY,CAAC,KAAd,CAAA,CAAxC,CAAA,GAAiE,SAAS,CAAC,GAAV,CAAc,MAAd,CAAsB,CAAA,OAAA,CAAQ,CAAC,QAA/B,CAAwC,IAAC,CAAA,YAAY,CAAC,KAAd,CAAA,CAAxC,CAAlE,CAAA,GAAoI;UAC3M,MAAA,GAAS,SAAS,CAAC,SAAV,CAAoB,IAAC,CAAA,YAArB;UACT,OAAA,GAAU,CAAC,GAAA,GAAM,MAAM,CAAC,GAAd,CAAA,GAAqB,CAAC,MAAM,CAAC,GAAP,GAAa,MAAM,CAAC,GAArB;iBAC/B,IAAC,CAAA,cAAc,CAAC,gBAAhB,CAAiC,MAAjC,EAAyC,IAAC,CAAA,WAA1C,EAAuD,OAAvD,EATF;;MAHY;;;;;EAPX,CAAP;AAAA","file":"modules/datasketch/animation/property_map.js","sourceRoot":"/source/","sourcesContent":["define (require) ->\n  class PropertyMap\n    constructor: (settings) ->\n      @objectProperty = settings.objectProperty\n      @dataProperty = settings.dataProperty\n      @calibration = settings.calibration\n\n    applyMapping: (object, playhead, timeDelta, dataStore) =>\n      rowPrev = Math.floor (playhead / 1000) / window.DataSketchConfig.timePerRow\n      rowNext = rowPrev + 1\n      if dataStore.get('rows').length > rowNext\n        mid = (playhead / 1000) / window.DataSketchConfig.timePerRow - rowPrev\n        prevRow = dataStore.get('rows')[rowPrev]\n        nextRow = dataStore.get('rows')[rowNext]\n        prevRowValue = prevRow.getValue(@dataProperty.getId())\n        nextRowValue = nextRow.getValue(@dataProperty.getId())\n        val = dataStore.get('rows')[rowPrev].getValue(@dataProperty.getId()) + (dataStore.get('rows')[rowNext].getValue(@dataProperty.getId()) - dataStore.get('rows')[rowPrev].getValue(@dataProperty.getId())) * mid\n        minMax = dataStore.getMinMax @dataProperty\n        percent = (val - minMax.min) / (minMax.max - minMax.min)\n        @objectProperty.setPropertyValue object, @calibration, percent"]}