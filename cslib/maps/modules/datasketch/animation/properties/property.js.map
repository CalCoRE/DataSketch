{"version":3,"sources":["modules/datasketch/animation/properties/property.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA;;;;EAAA,MAAA,CAAO,SAAC,OAAD;AACL,QAAA;IAAA,MAAA,GAAS,OAAA,CAAQ,iBAAR;IACT,KAAA,GAAQ,OAAA,CAAQ,kBAAR;IACR,EAAA,GAAK,OAAA,CAAQ,yBAAR;IAEL,IAAA,GAAO,OAAA,CAAQ,mBAAR;IACP,SAAA,GAAY,OAAA,CAAQ,gCAAR;IACZ,MAAA,GAAS,OAAA,CAAQ,kCAAR;IACT,KAAA,GAAQ,OAAA,CAAQ,qBAAR;WAEF;;;MACS,2BAAC,QAAD;;;;;;QACX,iDAAA;QACA,IAAC,CAAA,MAAD,GAAc,IAAA,KAAA,CACZ;UAAA,IAAA,EAAM,QAAN;SADY;QAEd,EAAE,CAAC,IAAH,CAAQ,8BAAR,EAAwC,IAAC,CAAA,qBAAzC;MAJW;;kCAMb,KAAA,GAAO,SAAA;eACL,IAAC,CAAA,MAAM,CAAC,GAAR,CAAY,IAAZ;MADK;;kCAGP,OAAA,GAAS,SAAA;eACP,IAAC,CAAA,MAAM,CAAC,GAAR,CAAY,MAAZ;MADO;;kCAGT,qBAAA,GAAuB,SAAC,IAAD,EAAO,IAAP;QACrB,IAAI,CAAC,IAAL,CAAU,IAAV;eACA;MAFqB;;kCAIvB,SAAA,GAAW,SAAA;eACL,IAAA,OAAA,CAAQ,CAAA,SAAA,KAAA;iBAAA,SAAC,OAAD,EAAU,MAAV;AACV,gBAAA;YAAA,IAAA,GAAO,KAAC,CAAA,kBAAD,CAAA;YACP,IAAI,CAAC,gBAAL,CAAsB,aAAtB,EAAqC,SAAA;cACnC,KAAK,CAAC,KAAN,CAAA;qBACA,OAAA,CAAQ,IAAI,CAAC,KAAL,CAAA,CAAR;YAFmC,CAArC;YAGA,IAAI,CAAC,gBAAL,CAAsB,aAAtB,EAAqC,SAAA;AACnC,kBAAA;cAAA,KAAK,CAAC,KAAN,CAAA;cACA,CAAA,GAAQ,IAAA,KAAA,CAAM,sBAAN;cACR,CAAC,CAAC,IAAF,GAAS;qBACT,MAAA,CAAO,CAAP;YAJmC,CAArC;mBAKA,KAAK,CAAC,OAAN,CAAc,IAAd;UAVU;QAAA,CAAA,CAAA,CAAA,IAAA,CAAR;MADK;;kCAaX,kBAAA,GAAoB,SAAA;AAClB,YAAA;eAAA,IAAA,GAAO,IAAI,CAAC,MAAL,CACL;UAAA,OAAA,EAAO,kBAAP;UACA,MAAA,EAAQ;YACN,SAAS,CAAC,MAAV,CACE;cAAA,KAAA,EAAO,SAAP;cACA,EAAA,EAAI,KADJ;aADF,CADM,EAIN,SAAS,CAAC,MAAV,CACE;cAAA,KAAA,EAAO,SAAP;cACA,EAAA,EAAI,KADJ;aADF,CAJM;WADR;UASA,OAAA,EAAS;YACP,MAAM,CAAC,MAAP,CACE;cAAA,KAAA,EAAO,QAAP;cACA,EAAA,EAAI,QADJ;cAEA,KAAA,EAAO,aAFP;cAGA,OAAA,EAAO,YAHP;aADF,CADO,EAMP,MAAM,CAAC,MAAP,CACE;cAAA,KAAA,EAAO,QAAP;cACA,EAAA,EAAI,QADJ;cAEA,KAAA,EAAO,aAFP;cAGA,OAAA,EAAO,YAHP;aADF,CANO;WATT;SADK;MADW;;;;OA9BU;EAV3B,CAAP;AAAA","file":"modules/datasketch/animation/properties/property.js","sourceRoot":"/source/","sourcesContent":["define (require) ->\n  Module = require 'core/app/module'\n  Model = require 'core/model/model'\n  HM = require 'core/event/hook_manager'\n\n  Form = require 'modules/form/form'\n  TextField = require 'modules/form/fields/text/field'\n  Button = require 'modules/form/fields/button/field'\n  Modal = require 'modules/modal/modal'\n\n  class AnimationProperty extends Module\n    constructor: (settings) ->\n      super()\n      @_model = new Model\n        data: settings\n      HM.hook 'DataMapping.ObjectProperties', @_hookObjectProperties\n\n    getId: () =>\n      @_model.get 'id'\n\n    getName: () =>\n      @_model.get 'name'\n\n    _hookObjectProperties: (list, meta) =>\n      list.push @\n      list\n\n    calibrate: () =>\n      new Promise (resolve, reject) =>\n        form = @getCalibrationForm()\n        form.addEventListener 'Form.Submit', () =>\n          Modal.close()\n          resolve form.value()\n        form.addEventListener 'Form.Cancel', () =>\n          Modal.close()\n          e = new Error \"Calibration canceled\"\n          e.name = \"FormCanceledError\"\n          reject e\n        Modal.display form\n\n    getCalibrationForm: () =>\n      form = Form.create\n        class: \"form-calibration\"\n        fields: [\n          TextField.create\n            label: \"Minimum\"\n            id: 'min'\n          TextField.create\n            label: \"Maximum\"\n            id: 'max'\n        ]\n        buttons: [\n          Button.create\n            label: \"Cancel\"\n            id: \"cancel\"\n            event: \"Form.Cancel\"\n            class: 'btn-cancel'\n          Button.create\n            label: \"Submit\"\n            id: \"submit\"\n            event: \"Form.Submit\"\n            class: 'btn-submit'\n        ]"]}