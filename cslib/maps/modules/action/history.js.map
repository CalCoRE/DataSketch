{"version":3,"sources":["modules/action/history.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA;;;;EAAA,MAAA,CAAO,SAAC,OAAD;AACL,QAAA;IAAA,eAAA,GAAkB,OAAA,CAAQ,uBAAR;WAEZ;;;MACS,uBAAA;;;QACX,IAAC,CAAA,QAAD,GAAY;MADD;;8BAGb,OAAA,GAAS,SAAC,MAAD;eACP,MAAM,CAAC,OAAP,CAAA,CACE,CAAC,IADH,CACQ,CAAA,SAAA,KAAA;iBAAA,SAAA;YACJ,KAAC,CAAA,QAAQ,CAAC,IAAV,CAAe,MAAf;mBACA,KAAC,CAAA,aAAD,CAAe,2BAAf,EACE;cAAA,MAAA,EAAQ,MAAR;aADF;UAFI;QAAA,CAAA,CAAA,CAAA,IAAA,CADR;MADO;;8BAOT,IAAA,GAAM,SAAA;AACJ,YAAA;QAAA,MAAA,GAAS,IAAC,CAAA,QAAQ,CAAC,GAAV,CAAA;eACT,MAAM,CAAC,IAAP,CAAA,CACE,CAAC,IADH,CACQ,CAAA,SAAA,KAAA;iBAAA,SAAA;mBACJ,KAAC,CAAA,aAAD,CAAe,4BAAf,EACE;cAAA,MAAA,EAAQ,MAAR;aADF;UADI;QAAA,CAAA,CAAA,CAAA,IAAA,CADR;MAFI;;;;OAXoB;EAHvB,CAAP;AAAA","file":"modules/action/history.js","sourceRoot":"/source/","sourcesContent":["define (require) ->\n  EventDispatcher = require 'core/event/dispatcher'\n\n  class ActionHistory extends EventDispatcher\n    constructor: () ->\n      @_history = []\n\n    execute: (action) =>\n      action.execute()\n        .then () =>\n          @_history.push action\n          @dispatchEvent 'ActionHistory.ActionAdded',\n            action: action\n\n    undo: () =>\n      action = @_history.pop()\n      action.undo()\n        .then () =>\n          @dispatchEvent 'ActionHistory.ActionUndone',\n            action: action"]}