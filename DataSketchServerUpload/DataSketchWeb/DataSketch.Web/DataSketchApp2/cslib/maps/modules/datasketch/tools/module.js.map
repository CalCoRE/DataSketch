{"version":3,"file":"../../../../modules/datasketch/tools/module.js","sources":["modules/datasketch/tools/module.coffee"],"names":[],"mappings":"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","sourcesContent":["define (require) ->\r\n  Module = require 'core/app/module'\r\n  HM = require 'core/event/hook_manager'\r\n  Globals = require 'core/model/globals'\r\n  Toolbar = require 'modules/toolkit/toolbar/toolbar'\r\n\r\n  class DSToolsModule extends Module\r\n    constructor: () ->\r\n      super()\r\n\r\n    buildToolbars: () =>      \r\n      toolbars =\r\n        stroke: new Toolbar\r\n          modelData:\r\n            id: \"stroke\"\r\n        color: new Toolbar\r\n          modelData:\r\n            id: \"color\"\r\n        mode: new Toolbar\r\n          modelData:\r\n            id: \"mode\"\r\n        trash: new Toolbar\r\n          modelData:\r\n            id: \"trash\"\r\n        objectoverlay: new Toolbar\r\n          modelData:\r\n            id: \"objectoverlay\"\r\n        shape: new Toolbar\r\n          modelData:\r\n            id: \"shape\"\r\n        snapgrid: new Toolbar\r\n          modelData:\r\n            id: \"snapgrid\"\r\n        markAsOrigin: new Toolbar\r\n          modelData:\r\n            id: \"markAsOrigin\"\r\n        LoadSave: new Toolbar\r\n          modelData:\r\n            id: \"LoadSave\"\r\n        LoadFile: new Toolbar\r\n          modelData:\r\n            id: \"LoadFile\"\r\n        ModalInput: new Toolbar\r\n          modelData:\r\n            id: \"savecanvas\"\r\n        calibrationAndManipulation: new Toolbar\r\n          modelData:\r\n            id: \"calibrationandmanipulation\"\r\n        ###CreateFile: new Toolbar\r\n          modelData:\r\n            id: \"CreateFile\"###\r\n\r\n      toolbars\r\n\r\n    buildViewToolbars: () =>      \r\n      toolbars =\r\n        mode: new Toolbar\r\n          modelData:\r\n            id: \"mode\"\r\n      toolbars\r\n\r\n\r\n    init: () =>\r\n      if window.currentSketchMode == 'view'\r\n         @toolbars = @buildViewToolbars()\r\n      else\r\n         @toolbars = @buildToolbars()\r\n      appView = Globals.get('App.view')\r\n      for id, tb of @toolbars\r\n        appView.addChild tb.view()       \r\n\r\n    run: () =>\r\n      for id, tb of @toolbars\r\n        tb.build()\r\n      @_model = Globals.get('Canvas')._model;\r\n      if @_model\r\n         if @_model._data.objects.length>0\r\n            $('.tool.SaveCanvas').show()\r\n      if window.currentSketchMode == 'view'\r\n        $('.tool.modeSelect-draw').hide()\r\n        $('.tool.modeSelect-data').hide()\r\n      "]}