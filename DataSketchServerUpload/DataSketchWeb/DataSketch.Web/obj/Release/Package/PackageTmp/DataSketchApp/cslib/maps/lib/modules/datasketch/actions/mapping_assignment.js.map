{"version":3,"file":"../../../../../lib/modules/datasketch/actions/mapping_assignment.js","sources":["lib/modules/datasketch/actions/mapping_assignment.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA;;;;EAAA,MAAA,CAAO,SAAC,OAAD;AACL,QAAA;IAAA,MAAA,GAAS,OAAA,CAAQ,uBAAR;IACT,WAAA,GAAc,OAAA,CAAQ,2CAAR;WAER;;;MACS,iCAAC,OAAD,EAAW,eAAX,EAA6B,aAA7B;QAAC,IAAC,CAAA,UAAD;QAAU,IAAC,CAAA,kBAAD;QAAkB,IAAC,CAAA,gBAAD;;;MAA7B;;wCAEb,OAAA,GAAS,SAAA;QACP,IAAG,0BAAH;iBACE,IAAC,CAAA,eAAe,CAAC,SAAjB,CAA2B,IAAC,CAAA,OAA5B,EAAqC,IAAC,CAAA,aAAtC,CACE,CAAC,IADH,CACQ,CAAA,SAAA,KAAA;mBAAA,SAAC,WAAD;cACJ,OAAO,CAAC,GAAR,CAAY,WAAZ;cACA,YAAY,CAAC,OAAb,CAAqB,aAArB,EAAoC,IAAI,CAAC,SAAL,CAAe,WAAf,CAApC;cACA,KAAC,CAAA,IAAD,GAAQ,IAAI,WAAJ,CACN;gBAAA,cAAA,EAAgB,KAAC,CAAA,eAAjB;gBACA,YAAA,EAAc,KAAC,CAAA,aADf;gBAEA,WAAA,EAAa,WAFb;eADM;qBAIR,KAAC,CAAA,OAAO,CAAC,kBAAT,CAA4B,KAAC,CAAA,IAA7B;YAPI;UAAA,CAAA,CAAA,CAAA,IAAA,CADR,CASE,EAAC,KAAD,EATF,CASS,CAAA,SAAA,KAAA;mBAAA,SAAC,KAAD;cACL,IAAG,KAAK,CAAC,IAAN,KAAc,mBAAjB;AACE,sBAAM,MADR;;YADK;UAAA,CAAA,CAAA,CAAA,IAAA,CATT,EADF;SAAA,MAAA;iBAcE,OAAO,CAAC,OAAR,CAAgB,IAAC,CAAA,OAAO,CAAC,qBAAT,CAA+B,IAAC,CAAA,eAAhC,CAAhB,EAdF;;MADO;;wCAiBT,IAAA,GAAM,SAAA;QACJ,IAAG,0BAAH;iBACE,OAAO,CAAC,OAAR,CAAgB,IAAC,CAAA,OAAO,CAAC,qBAAT,CAA+B,IAAC,CAAA,eAAhC,CAAhB,EADF;;MADI;;;;OApB8B;EAJjC,CAAP;AAAA","sourcesContent":["define (require) ->\n  Action = require 'modules/action/action'\n  PropertyMap = require 'modules/datasketch/animation/property_map'\n\n  class MappingAssignmentAction extends Action\n    constructor: (@_object, @_objectProperty, @_dataProperty) ->\n\n    execute: () =>        \n      if @_dataProperty?        \n        @_objectProperty.calibrate @_object, @_dataProperty\n          .then (calibration) =>      \n            console.log calibration \n            localStorage.setItem(\"calibration\", JSON.stringify(calibration));      \n            @_map = new PropertyMap\n              objectProperty: @_objectProperty\n              dataProperty: @_dataProperty\n              calibration: calibration\n            @_object.addPropertyMapping @_map\n          .catch (error) =>\n            if error.name != \"FormCanceledError\"\n              throw error\n      else        \n        Promise.resolve @_object.removePropertyMapping @_objectProperty\n\n    undo: () =>\n      if @_dataProperty?\n        Promise.resolve @_object.removePropertyMapping @_objectProperty\n      "]}