{"version":3,"file":"../../../../../modules/datasketch/tools/savecanvas/tool.js","sources":["modules/datasketch/tools/savecanvas/tool.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA;;;;EAAA,MAAA,CAAO,SAAC,OAAD;AACL,QAAA;IAAA,IAAA,GAAO,OAAA,CAAQ,2BAAR;IACP,OAAA,GAAU,OAAA,CAAQ,oBAAR;IACV,IAAA,GAAO,OAAA,CAAQ,QAAR;IACP,OAAA,CAAQ,kBAAR;IAGA,UAAA,GAAa,OAAA,CAAQ,wCAAR;WACP;AACJ,UAAA;;;;MAAa,wBAAA;;QACX,gDACE;UAAA,SAAA,EAAW,IAAX;SADF;MADW;;MAGb,IAAA,wDAAO,UAAU;;MACjB,IAAI,CAAC,OAAL,GAAe;;+BAEf,cAAA,GAAgB,SAAA;AACd,YAAA;QAAA,UAAA,GAAa,CAAA,CAAE,cAAF,CAAiB,CAAC,GAAlB,CAAA;QAGb,CAAA,CAAE,kBAAF,CAAqB,CAAC,EAAtB,CAAyB,iBAAzB,EAA2C,CAAA,SAAA,KAAA;iBAAA,SAAC,CAAD;YAEvC,CAAA,CAAE,cAAF,CAAiB,CAAC,GAAlB,CAAsB,EAAtB;YACA,CAAA,CAAE,gBAAF,CAAmB,CAAC,IAApB,CAAyB,SAAzB,EAAmC,KAAnC;YACA,CAAA,CAAE,wBAAF,CAA2B,CAAC,IAA5B,CAAA;YACA,CAAA,CAAE,2BAAF,CAA8B,CAAC,IAA/B,CAAA;mBACA,CAAC,CAAC,wBAAF,CAAA;UANuC;QAAA,CAAA,CAAA,CAAA,IAAA,CAA3C;QASA,IAAG,MAAM,CAAC,eAAP,KAA0B,YAA7B;UAGM,IAAI,CAAC,OAAL,GAAa;UACb,SAAA,GAAY;UACZ,IAAG,UAAA,IAAc,SAAS,CAAC,IAAV,CAAe,UAAf,CAAjB;YACG,UAAA,CAAW,UAAA,GAAa,IAAI,UAAJ,CAAe,OAAO,CAAC,GAAR,CAAY,QAAZ,CAAf,EAAqC,UAArC,CAAxB;YACA,UAAU,CAAC,OAAX,CAAA;YACA,CAAA,CAAE,cAAF,CAAiB,CAAC,GAAlB,CAAsB,EAAtB;mBACA,CAAA,CAAE,kBAAF,CAAqB,CAAC,KAAtB,CAA4B,MAA5B,EAJH;WAAA,MAMK,IAAG,UAAA,KAAc,EAAjB;YACF,CAAA,CAAE,2BAAF,CAA8B,CAAC,IAA/B,CAAA;mBACA,CAAA,CAAE,wBAAF,CAA2B,CAAC,IAA5B,CAAA,EAFE;WAAA,MAGA,IAAG,CAAC,SAAS,CAAC,IAAV,CAAe,UAAf,CAAJ;YACF,CAAA,CAAE,wBAAF,CAA2B,CAAC,IAA5B,CAAA;mBACA,CAAA,CAAE,2BAAF,CAA8B,CAAC,IAA/B,CAAA,EAFE;WAdX;;MAbc;;;;OAPW;EARxB,CAAP;AAAA","sourcesContent":["define (require) ->\r\n  Tool = require 'modules/toolkit/tool/tool'\r\n  Globals = require 'core/model/globals'\r\n  View = require './view'  \r\n  require 'link!./style.css'\r\n\r\n  #Include action files for performing different operations.\r\n  SaveCanvas = require 'modules/datasketch/actions/save_canvas'\r\n  class savecanvasTool extends Tool    \r\n    constructor: () ->\r\n      super        \r\n        viewClass: View\r\n    root = exports ? this\r\n    root.Counter = 0\r\n\r\n    generateAction: () =>     \r\n      ModalValue = $('#txtFileName').val()\r\n\r\n      #Event got triggered on closing of \"SaveCanvasModal\" modal.\r\n      $('#SaveCanvasModal').on 'hidden.bs.modal',(e) =>\r\n          #$('.modal-backdrop').hide();          \r\n          $('#txtFileName').val(\"\")\r\n          $('#chkIsDownload').prop('checked',false)\r\n          $('#SaveValidationMessage').hide()\r\n          $('#PatternValidationMessage').hide()\r\n          e.stopImmediatePropagation()\r\n\r\n      #Condition for checking whether savebutton got clicked or not.\r\n      if window.currentActionId == \"SaveButton\"            \r\n            #$('#DisableBackground').show()\r\n            #$('#pageLoader').show()\r\n            root.Counter=0\r\n            regexname = /^([a-zA-Z0-9_-])*$/;\r\n            if ModalValue && regexname.test(ModalValue)\r\n               SaveCanvas savecanvas = new SaveCanvas Globals.get('Canvas'),ModalValue\r\n               savecanvas.execute()\r\n               $('#txtFileName').val(\"\")\r\n               $('#SaveCanvasModal').modal('hide');\r\n               #$('.modal-backdrop').hide();               \r\n            else if ModalValue == \"\"\r\n               $('#PatternValidationMessage').hide()\r\n               $('#SaveValidationMessage').show()\r\n            else if !regexname.test(ModalValue)\r\n               $('#SaveValidationMessage').hide()\r\n               $('#PatternValidationMessage').show()"]}