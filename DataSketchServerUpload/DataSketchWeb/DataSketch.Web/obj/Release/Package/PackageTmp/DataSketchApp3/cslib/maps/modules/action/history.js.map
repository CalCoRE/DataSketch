{"version":3,"file":"../../../modules/action/history.js","sources":["modules/action/history.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA;;;;EAAA,MAAA,CAAO,SAAC,OAAD;AACL,QAAA;IAAA,eAAA,GAAkB,OAAA,CAAQ,uBAAR;WAEZ;;;MACS,uBAAA;;;QACX,IAAC,CAAA,QAAD,GAAY;MADD;;8BAGb,OAAA,GAAS,SAAC,MAAD;AACP,YAAA;AAAA;iBACI,MAAM,CAAC,OAAP,CAAA,CACE,CAAC,IADH,CACQ,CAAA,SAAA,KAAA;mBAAA,SAAA;cACJ,KAAC,CAAA,QAAQ,CAAC,IAAV,CAAe,MAAf;qBACA,KAAC,CAAA,aAAD,CAAe,2BAAf,EAA2C;gBAAA,MAAA,EAAQ,MAAR;eAA3C;YAFI;UAAA,CAAA,CAAA,CAAA,IAAA,CADR,EADJ;SAAA,aAAA;UAKM,UALN;;MADO;;8BAST,IAAA,GAAM,SAAA;AACJ,YAAA;QAAA,MAAA,GAAS,IAAC,CAAA,QAAQ,CAAC,GAAV,CAAA;eACT,MAAM,CAAC,IAAP,CAAA,CACE,CAAC,IADH,CACQ,CAAA,SAAA,KAAA;iBAAA,SAAA;mBACJ,KAAC,CAAA,aAAD,CAAe,4BAAf,EACE;cAAA,MAAA,EAAQ,MAAR;aADF;UADI;QAAA,CAAA,CAAA,CAAA,IAAA,CADR;MAFI;;;;OAboB;EAHvB,CAAP;AAAA","sourcesContent":["define (require) ->\n  EventDispatcher = require 'core/event/dispatcher'\n\n  class ActionHistory extends EventDispatcher\n    constructor: () ->\n      @_history = []\n\n    execute: (action) =>\n      try\n          action.execute()\n            .then () =>\n              @_history.push action\n              @dispatchEvent 'ActionHistory.ActionAdded',action: action\n      catch e\n         #console.log e\n\n    undo: () =>\n      action = @_history.pop()\n      action.undo()\n        .then () =>\n          @dispatchEvent 'ActionHistory.ActionUndone',\n            action: action"]}