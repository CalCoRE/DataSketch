{"version":3,"file":"../../../../../modules/datasketch/tools/mode/module.js","sources":["modules/datasketch/tools/mode/module.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA;;;;EAAA,MAAA,CAAO,SAAC,OAAD;AACL,QAAA;IAAA,MAAA,GAAS,OAAA,CAAQ,iBAAR;IACT,EAAA,GAAK,OAAA,CAAQ,yBAAR;IACL,cAAA,GAAiB,OAAA,CAAQ,QAAR;IACjB,OAAA,GAAU,OAAA,CAAQ,oBAAR;WAEJ;;;MACS,wBAAA;;;;QACX,8CAAA;QACA,EAAE,CAAC,IAAH,CAAQ,eAAR,EAAyB,IAAC,CAAA,aAA1B;MAFW;;+BAIb,GAAA,GAAK,SAAA;eACH,OAAO,CAAC,GAAR,CAAY,QAAZ,CAAqB,CAAC,gBAAtB,CAAuC,mBAAvC,EAA4D,IAAC,CAAA,aAA7D;MADG;;+BAGL,aAAA,GAAe,SAAC,IAAD,EAAO,IAAP;QACb,IAAG,IAAI,CAAC,EAAL,KAAW,MAAd;UACE,IAAI,CAAC,IAAL,CAAU,IAAI,cAAJ,CAAmB,MAAnB,CAAV;UACA,IAAI,CAAC,IAAL,CAAU,IAAI,cAAJ,CAAmB,QAAnB,CAAV,EAFF;;eAGA;MAJa;;+BAMf,aAAA,GAAe,SAAC,GAAD;AACb,YAAA;QAAA,WAAG,GAAG,CAAC,IAAI,CAAC,KAAT,KAAkB,MAAlB,IAAA,GAAA,KAA0B,QAA7B;iBACE,OAAO,CAAC,GAAR,CAAY,QAAZ,CAAqB,CAAC,cAAtB,CAAA,EADF;;MADa;;;;OAdY;EANxB,CAAP;AAAA","sourcesContent":["define (require) ->\n  Module = require 'core/app/module'\n  HM = require 'core/event/hook_manager'\n  ModeSelectTool = require './tool'\n  Globals = require 'core/model/globals'\n\n  class ModeToolModule extends Module\n    constructor: () ->\n      super()\n      HM.hook 'Toolbar.Tools', @_toolbarTools\n\n    run: () =>\n      Globals.get('Canvas').addEventListener 'Canvas.ModeChange', @_onModeChange\n\n    _toolbarTools: (list, meta) =>\n      if meta.id is \"mode\"\n        list.push new ModeSelectTool 'draw'\n        list.push new ModeSelectTool 'select'\n      list\n\n    _onModeChange: (evt) =>\n      if evt.data.mode in ['draw', 'select']\n        Globals.get('Canvas').enableControls()\n"]}