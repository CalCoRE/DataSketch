{"version":3,"file":"../../../modules/modal/view.js","sources":["modules/modal/view.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA;;;;EAAA,MAAA,CAAO,SAAC,OAAD;AACL,QAAA;IAAA,OAAA,GAAU,OAAA,CAAQ,oBAAR;IACV,QAAA,GAAW,OAAA,CAAQ,mBAAR;IAEX,OAAA,CAAQ,kBAAR;WAEM;;;MACS,mBAAC,KAAD,EAAQ,IAAR;;;;QACX,2CAAS,YAAH,GAAc,IAAd,GAAwB,QAA9B;QAEA,IAAC,CAAA,MAAD,GAAU;QACV,KAAK,CAAC,gBAAN,CAAuB,cAAvB,EAAuC,IAAC,CAAA,SAAxC;QACA,IAAC,CAAA,GAAG,CAAC,IAAL,CAAU,QAAV,CAAmB,CAAC,KAApB,CAA0B,IAAC,CAAA,aAA3B;MALW;;0BAOb,SAAA,GAAW,SAAC,GAAD;QACT,IAAG,GAAG,CAAC,IAAI,CAAC,IAAT,KAAiB,OAApB;UACE,IAAC,CAAA,MAAD,CAAQ,GAAG,CAAC,aAAZ,EADF;;QAEA,IAAG,GAAG,CAAC,IAAI,CAAC,IAAT,KAAiB,QAApB;UACE,IAAG,GAAG,CAAC,IAAI,CAAC,KAAZ;mBACE,IAAC,CAAA,GAAG,CAAC,MAAL,CAAA,EADF;WAAA,MAAA;mBAGE,IAAC,CAAA,GAAG,CAAC,OAAL,CAAA,EAHF;WADF;;MAHS;;0BASX,aAAA,GAAe,SAAC,KAAD;eACb,IAAC,CAAA,aAAD,CAAe,oBAAf,EAAqC,EAArC;MADa;;0BAGf,MAAA,GAAQ,SAAC,KAAD;AACN,YAAA;AAAA,eAAM,IAAC,CAAA,MAAM,CAAC,MAAd;UACE,IAAC,CAAA,WAAD,CAAa,IAAC,CAAA,MAAM,CAAC,GAAR,CAAA,CAAb;QADF;AAGA;AAAA;aAAA,qCAAA;;UACE,QAAA,GAAW,IAAI,OAAJ,CAAY,0BAAZ;UACX,QAAQ,CAAC,QAAT,CAAkB,IAAI,CAAC,IAAL,CAAA,CAAlB;UACA,IAAC,CAAA,QAAD,CAAU,QAAV,EAAoB,QAApB;uBACA,IAAC,CAAA,MAAM,CAAC,IAAR,CAAa,QAAb;AAJF;;MAJM;;;;OApBc;EANnB,CAAP;AAAA","sourcesContent":["define (require) ->\n  DomView = require 'core/view/dom_view'\n  Template = require 'text!./modal.html'\n\n  require 'link!./style.css'\n\n  class ModalView extends DomView\n    constructor: (model, tmpl) ->\n      super if tmpl? then tmpl else Template\n\n      @_pages = []\n      model.addEventListener 'Model.Change', @_onChange\n      @$el.find(\".close\").click @_onCloseClick\n\n    _onChange: (evt) =>\n      if evt.data.path == \"pages\"\n        @render evt.currentTarget\n      if evt.data.path == \"isOpen\"\n        if evt.data.value\n          @$el.fadeIn()\n        else\n          @$el.fadeOut()\n\n    _onCloseClick: (jqevt) =>\n      @dispatchEvent \"Modal.CloseRequest\", {}\n\n    render: (model) =>\n      while @_pages.length\n        @removeChild @_pages.pop()\n\n      for page in model.get 'pages'\n        pageWrap = new DomView \"<div class='page'></div>\"\n        pageWrap.addChild page.view()\n        @addChild pageWrap, \".pages\"\n        @_pages.push pageWrap\n"]}